"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.blogsRouter = void 0;
const express_1 = require("express");
const getAllBlogsController_1 = require("../controllers/blogs/getAllBlogsController");
const findBlogController_1 = require("../controllers/blogs/findBlogController");
const deleteBlogController_1 = require("../controllers/blogs/deleteBlogController");
const createBlogController_1 = require("../controllers/blogs/createBlogController");
const updateBlogController_1 = require("../controllers/blogs/updateBlogController");
const authorizationMdw_1 = require("../middlewares/authorizationMdw");
const blogInputValidator_1 = require("../middlewares/blogInputValidator");
const returnRequestMessages_1 = require("../middlewares/returnRequestMessages");
const getPostsByBlogId_1 = require("../controllers/posts/getPostsByBlogId");
const createPostByBlogId_1 = require("../controllers/posts/createPostByBlogId");
const postByBlogInputValidator_1 = require("../middlewares/postByBlogInputValidator");
exports.blogsRouter = (0, express_1.Router)();
exports.blogsRouter.get('/', getAllBlogsController_1.getAllBlogsController);
exports.blogsRouter.get('/:id', findBlogController_1.findBlogController);
exports.blogsRouter.delete('/:id', authorizationMdw_1.requestAuthorization, deleteBlogController_1.deleteBlogController);
exports.blogsRouter.post('/', authorizationMdw_1.requestAuthorization, blogInputValidator_1.blogInputValidator, returnRequestMessages_1.returnRequestErrors, createBlogController_1.createBlogController);
exports.blogsRouter.put('/:id', authorizationMdw_1.requestAuthorization, blogInputValidator_1.blogInputValidator, returnRequestMessages_1.returnRequestErrors, updateBlogController_1.updateBlogController);
exports.blogsRouter.get('/:id/posts', getPostsByBlogId_1.getPostsById);
exports.blogsRouter.post('/:id/posts', authorizationMdw_1.requestAuthorization, postByBlogInputValidator_1.postByBlogInputValidator, returnRequestMessages_1.returnRequestErrors, createPostByBlogId_1.createPostById);
